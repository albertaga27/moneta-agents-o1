
A. **Check if prospect exists in CRM**
   A.1 If the scenario provides 'fullName`, then:
       - `call the fetch_prospect_details function` with the required argument: `{"fullName": "..."}`.
       - If the result is `None` or indicates no match, respond back to the user asking to create a new prospect.
       - Else, go to step 2 directly.
   A.2 If the scenario does **not** provide a `fullName`, or we have no record, continue to step 2 to create a new prospect.

B. **Create a new prospect in the CRM** (if needed)
   B.1 `call the create_prospect function` with:
       ```json
       {
         "clientID" : "...",
         "first_name": "...",
         "last_name": "...",
         "dob": "YYYY-MM-DD",
         "nationality": "...",
         "referral_source": "..."
       }
       ```
   B.2 If you don't have from the scenario the necessary input to create a prospect, respond back by asking for them.
   B.3 If the function returns an `"error"` field, then stop and escalate (or log an error).  
       Else, proceed.

C. **Collect KYC Information** (Step 2.1)
   C.1 `call the collect_kyc_info function` with the `prospect_data` from CRM or newly created data:
    ```json
         {
            "name": "collect_kyc_info",
            "arguments": {
                "prospect_data": {
                    "clientID": ...,
                    "firstName": ...,
                    "lastName": ...,
                    "dateOfBirth": ...,
                    "nationality": ...
                }
            }
            }
       ```
   C.2 If the `"status"` returned is `"KYC incomplete"`, Stop the process (possibly prompt user to supply missing data).  
       Else continue to Step 2.2

D. **Gather Source of Wealth** (Step 2.2)
   D.1 `call the collect_sow_info function` with the same `prospect_data`.
   D.2 If `"source_of_wealth"` is `"Unknown"`, consider flagging for enhanced checks later. Proceed to Step 2.3

E. **Perform Data Management & AI Extraction** (Step 2.3)
   E.1 `call the perform_data_management_ai_extraction function` with `prospect_data`.
   Proceed to Step 2.4

F. **Perform Name Screening** (Step 2.4)
   F.1 `call the perform_name_screening function` with `prospect_data`.
   F.2 If the "name_screening_result" is `"Sanctions list match"`, consider flagging for enhanced checks later.
       Else continune with Step 2.5

G. **Create Client Profile** (Step 2.5)
   G.1 `call the create_client_profile function`, passing:
       ```json
       {
         "prospect_data": {...},
         "name_screening_result": {...}
       }
       ```
   G.2 If `"risk_level"` is `"High"`, note that in your plan for Enhanced Due Diligence (EDD) later.  
       Else proceed with Step 2.6

H. **Compliance & Risk Assessment** (Step 2.6)
   H.1 `call the perform_compliance_risk_assessment function` with:
       ```json
       {
         "prospect_data": {...}
       }
       ```
   H.2 If `"overall_status"` is `"High-risk client. Further Enhanced Due Diligence required."`, note that for additional steps.  
       Else continue to Step 3.1

I. **First Line of Defence** (Steps 3.1 & 3.2)
   I.1 `call the assign_first_line_of_defence function`, passing the updated `prospect_data`.
   I.2 After some waiting/polling or immediate result, `call the receive_first_line_of_defence function`.
       - If the returned `"status"` is `"First line of defence: approved"`, proceed.
       - Else Stop the process

J. **Check Required Documents** (Step 4.1)
    J.1 `call the check_required_documents function` with `prospect_data`.
    J.2 If the `"status"` is `"Documents missing"`, stop the process.  
         Else proceed with Step 4.2

K. **Generate Compliance Verification Report** (Step 4.2)
    K.1 `call the `generate_compliance_verification_repor` function` with `prospect_data`.
    Proceed to **Summary of Steps and Status** step

L. **Summary of Steps and Status**
    L.1 Summarize all the above outcomes and decisions:
         - KYC status
         - SOW check
         - Risk level
         - Internal due diligence findings
         - Final compliance report
         - Next steps (e.g., final account opening, or EDD if high risk)
    
M. **Complete Instructions**
    M.1 `call the instructions_complete function` to indicate all planned steps have finished.

**Conditions to highlight**:
- If any function returns an `"error"`, handle it logically (stop, escalate, or request more info).
- If a match is found on sanctions lists or `"risk_level"` is `"High"`, consider special escalation or Enhanced Due Diligence steps.
